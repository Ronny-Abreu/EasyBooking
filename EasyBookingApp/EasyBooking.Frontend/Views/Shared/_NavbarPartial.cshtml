<nav class="EasyBooking-navbar">
    <div class="navbar-container">
        <div class="navbar-left">
            <a href="@Url.Action("Index", "Home")" class="logo-link">
                <img src="~/img/logoEasyBooking.png" alt="Logo EasyBooking" />
            </a>
        </div>

        <div class="navbar-center">
            <div class="nav-tab">
                @{
                    var isHomePage = Context.Request.Path.Value.Equals("/") ||
                    Context.Request.Path.Value.Equals("/Home") ||
                    Context.Request.Path.Value.Equals("/Home/Index");
                }

                <a href="@Url.Action("Index", "Home")" class="nav-tab @(isHomePage ? "active" : "")">Inicio</a>
                

                <div class="dropdown">
                    <a href="#" class="nav-tab dropdown-toggle-split">Publicaciones</a>
                    <div class="dropdown-menu">
                        <a href="@Url.Action("Index", "Home")#hoteles" class="dropdown-item">Hoteles 🛎️</a>
                        <a href="@Url.Action("Index", "Home")#paquetes" class="dropdown-item">Paquetes Turísticos 🌴</a>
                        <a href="@Url.Action("Index", "Home")#viajes" class="dropdown-item">Viajes ✈️</a>
                    </div>
                </div>
            </div>
        </div>

        <div class="profile-container">
            <button class="profile-button" id="profile-button">
                <svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="presentation" focusable="false" style="display: block; fill: none; height: 16px; width: 16px; stroke: currentcolor; stroke-width: 3; overflow: visible;">
                    <g fill="none" fill-rule="nonzero">
                        <path d="m2 16h28"></path>
                        <path d="m2 24h28"></path>
                        <path d="m2 8h28"></path>
                    </g>
                </svg>
                <div class="profile-avatar1">
                    <svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="presentation" focusable="false" style="display: block; height: 100%; width: 100%; fill: currentcolor;">
                        <path d="M16 2C8.268 2 2 8.268 2 16s6.268 14 14 14 14-6.268 14-14S23.732 2 16 2zm0 5c2.486 0 4.5 2.014 4.5 4.5S18.486 16 16 16s-4.5-2.014-4.5-4.5S13.514 7 16 7zm0 20c-3.248 0-6.154-1.559-8-3.959C9.4 19.525 12.238 17 16 17c3.762 0 6.6 2.525 8 6.041-1.846 2.4-4.752 3.959-8 3.959z" />
                    </svg>
                </div>
            </button>

            <!-- Profile Dropdown Menu -->
            <div class="profile-dropdown" id="profile-dropdown">

                <!-- Esta sección solo se mostrará cuando el usuario esté autenticado -->
                <div class="dropdown-section logged-in-section" style="display: none;">
                    <div class="dropdown-item user-name"; font-weight: bold;"></div>
                </div>

                <div class="dropdown-section logged-in-section" style="display: none;">
                    <a href="@Url.Action("PerfilUser", "Usuario")" class="dropdown-item">Perfil</a>
                </div>

                <div class="dropdown-divider logged-in-section" style="display: none;"></div>

                <!-- Esta sección solo se mostrará cuando el usuario NO esté autenticado -->
                <div class="dropdown-section logged-out-section">
                    <button class="dropdown-item" onclick="openLoginModal()">Iniciar sesión</button>
                    <button class="dropdown-item" onclick="openRegisterModal()">Registrarse</button>
                </div>

                <div class="dropdown-divider"></div>

                <div class="dropdown-section">
                    <a href="@Url.Action("Create", "Publicacion")" class="dropdown-item">Publicar Alojamiento</a>
                    <a href="@Url.Action("Index", "Listings")" class="dropdown-item">Publicar Paquete Turistico</a>
                </div>

                <div class="dropdown-divider"></div>

                <!-- Esta sección se mostrará siempre -->
                <div class="dropdown-section">
                    <a href="@Url.Action("Index", "Help")" class="dropdown-item">Centro de ayuda</a>
                </div>

                <!-- Esta sección solo se mostrará cuando el usuario esté autenticado -->
                <div class="dropdown-divider logged-in-section" style="display: none;"></div>

                <div class="dropdown-section logged-in-section" style="display: none;">
                    <button class="dropdown-item" onclick="logout()">Cerrar sesión</button>
                </div>
            </div>
        </div>

        <button class="theme-toggle-button" id="theme-toggle-button" aria-label="Cambiar tema">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="theme-icon sun-icon">
                <circle cx="12" cy="12" r="5"></circle>
                <line x1="12" y1="1" x2="12" y2="3"></line>
                <line x1="12" y1="21" x2="12" y2="23"></line>
                <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                <line x1="1" y1="12" x2="3" y2="12"></line>
                <line x1="21" y1="12" x2="23" y2="12"></line>
                <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
            </svg>
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="theme-icon moon-icon">
                <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
            </svg>
        </button>
    </div>
</nav>